{"ast":null,"code":"const useProductService = () => {\n  const _apiBase = 'http://localhost:3003/api/products';\n\n  // GET ALL PRODUCTS\n  const getAllProducts = async () => {\n    try {\n      const response = await fetch(_apiBase);\n      const products = await response.json();\n      if (!products.success) return [];\n      return products.data.map(product => _transformProduct(product));\n    } catch (error) {\n      console.error('Mahsulotlarni olishda xatolik:', error);\n      return [];\n    }\n  };\n\n  // GET ONE PRODUCT\n  const getDetailedProduct = async id => {\n    try {\n      const response = await fetch(`${_apiBase}/${id}`);\n      const product = await response.json();\n      if (!product.success) return null;\n      return _transformProduct(product.data);\n    } catch (error) {\n      console.error('Mahsulotni olishda xatolik:', error);\n      return null;\n    }\n  };\n\n  // GET RELATED PRODUCTS\n  const getRelatedProduct = async id => {\n    try {\n      const response = await fetch(`${_apiBase}/${id}/related`);\n      const products = await response.json();\n      if (!products.success) return [];\n      return products.data.map(product => _transformProduct(product));\n    } catch (error) {\n      console.error('Related mahsulotlarni olishda xatolik:', error);\n      return [];\n    }\n  };\n\n  // POST PRODUCT\n  const postProduct = async productObject => {\n    try {\n      const response = await fetch(_apiBase, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(productObject)\n      });\n      const product = await response.json();\n      if (!product.success) return null;\n      return _transformProduct(product.data);\n    } catch (error) {\n      console.error('POST product error:', error);\n      return null;\n    }\n  };\n\n  // PUT PRODUCT (UPDATE)\n  const putProduct = async (id, updatedData) => {\n    try {\n      const response = await fetch(`${_apiBase}/${id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(updatedData)\n      });\n      const result = await response.json();\n      if (!result.success) {\n        console.error('PUT failed:', result.message);\n        return null;\n      }\n      return _transformProduct(result.data);\n    } catch (error) {\n      console.error('PUT product error:', error);\n      return null;\n    }\n  };\n\n  // DELETE PRODUCT\n  const deleteProduct = async id => {\n    try {\n      const response = await fetch(`${_apiBase}/${id}`, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      const product = await response.json();\n      if (!product.success) {\n        console.error('Delete failed:', product.message);\n        return false;\n      }\n      return true;\n    } catch (error) {\n      console.error('Delete error:', error);\n      return false;\n    }\n  };\n\n  // TRANSFORM FUNCTION\n  const _transformProduct = product => {\n    var _product$images;\n    return {\n      id: product._id,\n      name: product.name,\n      price: product.price,\n      old_price: product.old_price,\n      categoryId: product.categoryId,\n      images: product.images,\n      image: ((_product$images = product.images) === null || _product$images === void 0 ? void 0 : _product$images[0]) || product.image || '',\n      status: product.status,\n      rating: product.rating,\n      colors: product.colors,\n      dimensions: product.dimensions,\n      description: product.description,\n      createdAt: product.createdAt\n    };\n  };\n  return {\n    getAllProducts,\n    getDetailedProduct,\n    getRelatedProduct,\n    postProduct,\n    deleteProduct,\n    putProduct\n  };\n};\nexport default useProductService;","map":{"version":3,"names":["useProductService","_apiBase","getAllProducts","response","fetch","products","json","success","data","map","product","_transformProduct","error","console","getDetailedProduct","id","getRelatedProduct","postProduct","productObject","method","headers","body","JSON","stringify","putProduct","updatedData","result","message","deleteProduct","_product$images","_id","name","price","old_price","categoryId","images","image","status","rating","colors","dimensions","description","createdAt"],"sources":["/Users/rayimovsunnatillo/Desktop/luxe-shop/client/src/server/server.js"],"sourcesContent":["const useProductService = () => {\n\tconst _apiBase = 'http://localhost:3003/api/products'\n\n\t// GET ALL PRODUCTS\n\tconst getAllProducts = async () => {\n\t\ttry {\n\t\t\tconst response = await fetch(_apiBase)\n\t\t\tconst products = await response.json()\n\n\t\t\tif (!products.success) return []\n\n\t\t\treturn products.data.map(product => _transformProduct(product))\n\t\t} catch (error) {\n\t\t\tconsole.error('Mahsulotlarni olishda xatolik:', error)\n\t\t\treturn []\n\t\t}\n\t}\n\n\t// GET ONE PRODUCT\n\tconst getDetailedProduct = async id => {\n\t\ttry {\n\t\t\tconst response = await fetch(`${_apiBase}/${id}`)\n\t\t\tconst product = await response.json()\n\n\t\t\tif (!product.success) return null\n\n\t\t\treturn _transformProduct(product.data)\n\t\t} catch (error) {\n\t\t\tconsole.error('Mahsulotni olishda xatolik:', error)\n\t\t\treturn null\n\t\t}\n\t}\n\n\t// GET RELATED PRODUCTS\n\tconst getRelatedProduct = async id => {\n\t\ttry {\n\t\t\tconst response = await fetch(`${_apiBase}/${id}/related`)\n\t\t\tconst products = await response.json()\n\n\t\t\tif (!products.success) return []\n\n\t\t\treturn products.data.map(product => _transformProduct(product))\n\t\t} catch (error) {\n\t\t\tconsole.error('Related mahsulotlarni olishda xatolik:', error)\n\t\t\treturn []\n\t\t}\n\t}\n\n\t// POST PRODUCT\n\tconst postProduct = async productObject => {\n\t\ttry {\n\t\t\tconst response = await fetch(_apiBase, {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\t\tbody: JSON.stringify(productObject),\n\t\t\t})\n\n\t\t\tconst product = await response.json()\n\n\t\t\tif (!product.success) return null\n\n\t\t\treturn _transformProduct(product.data)\n\t\t} catch (error) {\n\t\t\tconsole.error('POST product error:', error)\n\t\t\treturn null\n\t\t}\n\t}\n\n\t// PUT PRODUCT (UPDATE)\n\tconst putProduct = async (id, updatedData) => {\n\t\ttry {\n\t\t\tconst response = await fetch(`${_apiBase}/${id}`, {\n\t\t\t\tmethod: 'PUT',\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\t\tbody: JSON.stringify(updatedData),\n\t\t\t})\n\n\t\t\tconst result = await response.json()\n\n\t\t\tif (!result.success) {\n\t\t\t\tconsole.error('PUT failed:', result.message)\n\t\t\t\treturn null\n\t\t\t}\n\n\t\t\treturn _transformProduct(result.data)\n\t\t} catch (error) {\n\t\t\tconsole.error('PUT product error:', error)\n\t\t\treturn null\n\t\t}\n\t}\n\n\t// DELETE PRODUCT\n\tconst deleteProduct = async id => {\n\t\ttry {\n\t\t\tconst response = await fetch(`${_apiBase}/${id}`, {\n\t\t\t\tmethod: 'DELETE',\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\t})\n\n\t\t\tconst product = await response.json()\n\n\t\t\tif (!product.success) {\n\t\t\t\tconsole.error('Delete failed:', product.message)\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\treturn true\n\t\t} catch (error) {\n\t\t\tconsole.error('Delete error:', error)\n\t\t\treturn false\n\t\t}\n\t}\n\n\t// TRANSFORM FUNCTION\n\tconst _transformProduct = product => {\n\t\treturn {\n\t\t\tid: product._id,\n\t\t\tname: product.name,\n\t\t\tprice: product.price,\n\t\t\told_price: product.old_price,\n\t\t\tcategoryId: product.categoryId,\n\t\t\timages: product.images,\n\t\t\timage: product.images?.[0] || product.image || '',\n\t\t\tstatus: product.status,\n\t\t\trating: product.rating,\n\t\t\tcolors: product.colors,\n\t\t\tdimensions: product.dimensions,\n\t\t\tdescription: product.description,\n\t\t\tcreatedAt: product.createdAt,\n\t\t}\n\t}\n\n\treturn {\n\t\tgetAllProducts,\n\t\tgetDetailedProduct,\n\t\tgetRelatedProduct,\n\t\tpostProduct,\n\t\tdeleteProduct,\n\t\tputProduct,\n\t}\n}\n\nexport default useProductService\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}